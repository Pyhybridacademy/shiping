<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Print Preview - {{ shipment.tracking_number }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen py-8 px-4">
    
    <div class="max-w-4xl mx-auto">
        <div class="bg-white rounded-lg shadow-lg p-6 mb-6">
            <div class="flex justify-between items-center mb-6">
                <h1 class="text-2xl font-bold text-gray-800">üìÑ Print Preview</h1>
                <div class="flex gap-3">
                    <a href="/track/?tracking_number={{ shipment.tracking_number }}" 
                       class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition">
                        ‚Üê Back to Tracking
                    </a>
                    <a href="/print/{{ shipment.tracking_number }}/" 
                       class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition">
                        üñ®Ô∏è Print PDF
                    </a>
                </div>
            </div>

            <!-- Preview Content -->
            <div class="border-2 border-gray-300 p-8 bg-white" style="min-height: 80vh;">
                <!-- Header -->
                <div class="text-center mb-8 border-b-2 border-gray-300 pb-4">
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">SHIPMENT TRACKING REPORT</h2>
                </div>

                <!-- Tracking Info -->
                <div class="mb-6">
                    <table class="w-full border-collapse border border-gray-400 mb-4">
                        <tr class="bg-gray-200">
                            <td class="border border-gray-400 p-2 font-bold">Tracking Number:</td>
                            <td class="border border-gray-400 p-2">{{ shipment.tracking_number }}</td>
                            <td class="border border-gray-400 p-2 font-bold">Status:</td>
                            <td class="border border-gray-400 p-2">{{ shipment.get_status_display }}</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-400 p-2 font-bold">Date Created:</td>
                            <td class="border border-gray-400 p-2">{{ shipment.date_created|date:"Y-m-d H:i" }}</td>
                            <td class="border border-gray-400 p-2 font-bold">Last Updated:</td>
                            <td class="border border-gray-400 p-2">{{ shipment.last_updated|date:"Y-m-d H:i" }}</td>
                        </tr>
                        {% if shipment.estimated_delivery %}
                        <tr>
                            <td class="border border-gray-400 p-2 font-bold">Estimated Delivery:</td>
                            <td class="border border-gray-400 p-2" colspan="3">{{ shipment.estimated_delivery }}</td>
                        </tr>
                        {% endif %}
                    </table>
                </div>

                <!-- Sender & Receiver -->
                <div class="mb-6">
                    <table class="w-full border-collapse border border-gray-400">
                        <tr class="bg-blue-600 text-white">
                            <th class="border border-gray-400 p-3 text-center">SENDER INFORMATION</th>
                            <th class="border border-gray-400 p-3 text-center">RECEIVER INFORMATION</th>
                        </tr>
                        <tr>
                            <td class="border border-gray-400 p-3 align-top">
                                <p><strong>Name:</strong> {{ shipment.sender_name }}</p>
                                <p><strong>Address:</strong> {{ shipment.sender_address }}</p>
                                <p><strong>Email:</strong> {{ shipment.sender_email }}</p>
                                <p><strong>Phone:</strong> {{ shipment.sender_phone }}</p>
                            </td>
                            <td class="border border-gray-400 p-3 align-top">
                                <p><strong>Name:</strong> {{ shipment.receiver_name }}</p>
                                <p><strong>Address:</strong> {{ shipment.receiver_address }}</p>
                                <p><strong>Email:</strong> {{ shipment.receiver_email }}</p>
                                <p><strong>Phone:</strong> {{ shipment.receiver_phone }}</p>
                            </td>
                        </tr>
                    </table>
                </div>

                <!-- Shipment Details -->
                <div class="mb-6">
                    <h3 class="text-xl font-bold text-blue-700 mb-3">SHIPMENT DETAILS</h3>
                    <table class="w-full border-collapse border border-gray-400">
                        <tr class="bg-gray-200">
                            <td class="border border-gray-400 p-2 font-bold">Origin:</td>
                            <td class="border border-gray-400 p-2">{{ shipment.origin }}</td>
                            <td class="border border-gray-400 p-2 font-bold">Destination:</td>
                            <td class="border border-gray-400 p-2">{{ shipment.destination }}</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-400 p-2 font-bold">Current Location:</td>
                            <td class="border border-gray-400 p-2">{{ shipment.current_location }}</td>
                            <td class="border border-gray-400 p-2 font-bold">Parcel Weight:</td>
                            <td class="border border-gray-400 p-2">{{ shipment.parcel_weight }} kg</td>
                        </tr>
                        {% if shipment.parcel_description %}
                        <tr>
                            <td class="border border-gray-400 p-2 font-bold">Description:</td>
                            <td class="border border-gray-400 p-2" colspan="3">{{ shipment.parcel_description }}</td>
                        </tr>
                        {% endif %}
                    </table>
                </div>

                <!-- Payment Information -->
                {% if shipment.require_payment and shipment.show_payment_info %}
                <div class="mb-6">
                    <h3 class="text-xl font-bold text-blue-700 mb-3">PAYMENT INFORMATION</h3>
                    <table class="w-full border-collapse border border-gray-400">
                        <tr class="bg-gray-200">
                            <td class="border border-gray-400 p-2 font-bold">Payment Method:</td>
                            <td class="border border-gray-400 p-2">{{ shipment.get_payment_method_display|upper }}</td>
                            <td class="border border-gray-400 p-2 font-bold">Payment Status:</td>
                            <td class="border border-gray-400 p-2">{{ shipment.get_payment_status_display }}</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-400 p-2 font-bold">Shipment Cost:</td>
                            <td class="border border-gray-400 p-2">${{ shipment.shipment_cost }}</td>
                            <td class="border border-gray-400 p-2 font-bold">Clearance Cost:</td>
                            <td class="border border-gray-400 p-2">${{ shipment.clearance_cost }}</td>
                        </tr>
                        <tr>
                            <td class="border border-gray-400 p-2 font-bold">Total Amount:</td>
                            <td class="border border-gray-400 p-2 font-bold text-lg">${{ shipment.total_cost }}</td>
                            <td class="border border-gray-400 p-2 font-bold">Wallet Address:</td>
                            <td class="border border-gray-400 p-2 font-mono text-sm">{{ shipment.crypto_wallet }}</td>
                        </tr>
                    </table>
                </div>
                {% endif %}

                <!-- Parcel Image -->
                {% if shipment.parcel_image %}
                <div class="mb-6">
                    <h3 class="text-xl font-bold text-blue-700 mb-3">PARCEL IMAGE</h3>
                    <img src="{{ shipment.parcel_image.url }}" alt="Parcel" class="max-w-md mx-auto border-2 border-gray-300 rounded">
                </div>
                {% endif %}

                <!-- Footer -->
                <div class="mt-12 pt-6 border-t-2 border-gray-300 text-center text-gray-600 text-sm">
                    <p>Generated by Shipment Tracker System</p>
                    <p>Thank you for using our services!</p>
                </div>
            </div>
        </div>
    </div>

</body>
</html>